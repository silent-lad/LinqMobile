<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="style.css" />

    <title>LinQ</title>
  </head>

  <body>
    <!-- Just an image -->
    <nav
      class="navbar navbar-light bg-white"
      style="box-shadow:2px 0px 10px #00000025;position:fixed;width:100vw;"
    >
      <a class="navbar-brand" href="#">
        <img src="./ic_linq_logo.svg" width="75" height="20" alt="" />
      </a>
    </nav>
    <br />
    <div class="error-panel mt-5">
      <img class="error-image" src="./smile_face.svg" />
      <p class="error-message">
        Don't worry! Follow these simple steps to fix it
      </p>
    </div>

    <ul class="step-list" id="app">
      <li
        v-if="currentBrand!=''"
        class="step"
        v-for="step in brands[currentBrand].steps"
      >
        <div class="step_num">
          Step {{brands[currentBrand].steps.indexOf(step)+1}}
        </div>
        <div class="step_description">
          <span v-html="step.description"></span>
        </div>
        <img
          class="mt-2 p-1 "
          v-if="step.imageUrl"
          :src="step.imageUrl"
          :class="step.imageClass?'step_image_big':'step_image'"
        />

        <a
          v-if="step.deeplink"
          class="mt-3 m-1 p-1 text-center"
          style="background:#1da1f2;box-shadow:0px 5px 5px rgba(0,0,0,0.4);text-decoration: none;color:white;border-radius:8px;"
          :href="step.deeplink"
          ><strong>Do it Now</strong></a
        >
      </li>
    </ul>

    <footer class="footer bg-primary">
      <a class="navbar-brand text-white mx-5 p-2" href="#">
        Linq Copyright © 2019 | All Rights Reserved
      </a>
    </footer>

    <script>
      var app = new Vue({
        el: "#app",
        data: {
          currentBrand: "",
          brands: {
            xiaomi: {
              steps: [
                {
                  description:
                    "-&nbsp;Allow permission to <strong>Display pop-up windows while running in the background</strong> and then select <strong>Accept</strong>",
                  imageUrl: "./xiaomi1.png",
                  deeplink:
                    "https://dl.mylinq.in/inappmsg?type=28&action=xiaomi_popup"
                },
                {
                  description:
                    "-&nbsp;Allow Linq permission to <strong>Display over other apps</strong>.<br/>-&nbsp; Change it from off (<img src='./off.png' height='23'>) to on (<img src='./on.png' height='23'>)",
                  imageUrl: false,
                  deeplink:
                    "-&nbsp;https://dl.mylinq.in/inappmsg?type=28&action=draw_over_apps"
                },
                {
                  description:
                    "-&nbsp;Allow <strong>Auto Start</strong> for Linq to run in background automatically.<br/>-&nbsp; Allow Linq permission to display over other apps <br/>-&nbsp;Change it from off (<img src='./off.png' height='23'>) to on (<img src='./on.png' height='23'>) ",
                  imageUrl: false,
                  deeplink:
                    "https://dl.mylinq.in/inappmsg?type=28&action=auto_start"
                },
                {
                  description:
                    "-&nbsp;Save Linq from stopping due to <strong>Battery Optimization</strong> <br/>-&nbsp; Tap on <strong>Not allowed</strong><br/>-&nbsp; Select <strong>All apps</strong><br/>-&nbsp; In search bar, type <strong>Linq</strong> or, scroll down to <strong>Linq Biz</strong><br/>-&nbsp; Tap on <strong>Linq Biz</strong><br/>-&nbsp; Select <strong>Don’t Optimize</strong> and tap <strong>Done</strong>",
                  imageUrl: "./xiaomi2.png",
                  imageClass: "big",
                  deeplink:
                    "https://dl.mylinq.in/inappmsg?type=28&action=battery_optimization"
                }
              ]
            },
            samsung: {
              steps: [
                {
                  description:
                    "-&nbsp;Allow Linq permission to <strong>Display over other apps</strong> <br/>-&nbsp; Change it from off (<img src='./off.png' height='23'>) to on (<img src='./on.png' height='23'>)",
                  imageUrl: false,
                  deeplink: false
                },
                {
                  description:
                    "-&nbsp;Save Linq from stopping due to <strong>Optimise Battery Usage</strong><br/>-&nbsp; Tap on <strong>Apps not optimised</strong><br/>-&nbsp; Select <strong>All apps</strong><br/>-&nbsp; In search bar, type <strong>Linq</strong> or, scroll down to <strong>Linq Biz</strong><br/> <img style='margin-left:10%;box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.295);' width='80%' height='70' src='./inline.png'><br/>-&nbsp; Change it from on (<img src='./on.png' height='23'>) to off (<img src='./off.png' height='23'>)",
                  imageUrl: false,
                  deeplink: false
                }
              ]
            },
            oppo: {
              steps: [
                {
                  description:
                    "-&nbsp;Allow Linq permission to <strong>Display over other apps</strong><br/>-&nbsp; Change it from off (<img src='./off.png' height='23'>) to on (<img src='./on.png' height='23'>)",
                  imageUrl: false,
                  deeplink:
                    "https://dl.mylinq.in/inappmsg?type=28&action=draw_over_apps"
                },
                {
                  description:
                    "-&nbsp;Allow <strong>Auto Start</strong> for Linq to run in background automatically<br/>-&nbsp; Allow Linq permission to display over other apps<br/>-&nbsp; Change it from off (<img src='./off.png' height='23'>) to on (<img src='./on.png' height='23'>)",
                  imageUrl: false,
                  deeplink:
                    "https://dl.mylinq.in/inappmsg?type=28&action=auto_start"
                },
                {
                  description:
                    "-&nbsp;Save Linq from stopping due to <strong>Battery Optimization</strong><br/>-&nbsp; Tap on <strong>Not allowed</strong><br/>-&nbsp; Select <strong>All apps</strong><br/>-&nbsp; In search bar, type <strong>Linq</strong> or, scroll down to <strong>Linq Biz</strong><br/> <img style='margin-left:10%;box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.295);' width='80%' height='70' src='./inline.png'><br/>-&nbsp; Tap on <strong>Linq Biz</strong><br/>-&nbsp; Select <strong>Don’t allow</strong> and tap <strong>OK / Done</strong>",
                  imageUrl: "./oppo1.png",
                  imageClass: "big",
                  deeplink:
                    "https://dl.mylinq.in/inappmsg?type=28&action=battery_optimization"
                }
              ]
            }
          }
        },
        methods: {
          getQueryStringValue: function(key) {
            return decodeURIComponent(
              window.location.search.replace(
                new RegExp(
                  "^(?:.*[&\\?]" +
                    encodeURIComponent(key).replace(/[\.\+\*]/g, "\\$&") +
                    "(?:\\=([^&]*))?)?.*$",
                  "i"
                ),
                "$1"
              )
            );
          }
        },
        created() {
          this.currentBrand = this.getQueryStringValue("brand").toLowerCase();
          switch (this.currentBrand) {
            case "vivo":
              this.currentBrand = "oppo";
              break;
            case "oneplus":
              this.currentBrand = "samsung";
              break;
            case "samsung":
              break;
            case "xiaomi":
              break;
            case "oppo":
              break;
            default:
              this.currentBrand = "oppo";
              break;
          }
        }
      });
    </script>
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
